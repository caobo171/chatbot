{"ast":null,"code":"import _classCallCheck from \"/media/caobo171/07190f2f-2f0f-48f2-bf9e-e2b5e9484259/project1/angelhack/vti-angelhack/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/media/caobo171/07190f2f-2f0f-48f2-bf9e-e2b5e9484259/project1/angelhack/vti-angelhack/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/media/caobo171/07190f2f-2f0f-48f2-bf9e-e2b5e9484259/project1/angelhack/vti-angelhack/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/media/caobo171/07190f2f-2f0f-48f2-bf9e-e2b5e9484259/project1/angelhack/vti-angelhack/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/media/caobo171/07190f2f-2f0f-48f2-bf9e-e2b5e9484259/project1/angelhack/vti-angelhack/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/media/caobo171/07190f2f-2f0f-48f2-bf9e-e2b5e9484259/project1/angelhack/vti-angelhack/client/src/AppMain.js\";\nimport React from 'react';\nimport logo from \"./logo.svg\";\nimport botContainer, { IMAGE } from './containers/botContainer';\nimport { Provider, SubscribeOne } from 'unstated-x';\nimport './App.css';\nimport { withRouter } from 'react-router-dom';\nimport { rootPath } from './App';\n\nvar AppMain =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(AppMain, _React$Component);\n\n  function AppMain(props) {\n    var _this;\n\n    _classCallCheck(this, AppMain);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(AppMain).call(this, props));\n    botContainer.init();\n    _this.state = {\n      text: ''\n    };\n    document.addEventListener('keydown', function (event) {\n      if (event.keyCode === 13) {\n        botContainer.sendMessage(_this.state.text);\n\n        _this.setState({\n          text: ''\n        });\n      }\n    });\n    return _this;\n  }\n\n  _createClass(AppMain, [{\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      return React.createElement(\"div\", {\n        className: \"App\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 28\n        },\n        __self: this\n      }, React.createElement(SubscribeOne, {\n        to: botContainer,\n        bind: ['dialog', 'interim', 'image', 'user'],\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 29\n        },\n        __self: this\n      }, function (bot) {\n        console.log('check bot', bot);\n        return React.createElement(\"div\", {\n          className: \"container-fluid h-100\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 34\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          className: \"row justify-content-center h-100\",\n          style: {\n            paddingTop: '30px'\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 35\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          className: \"col-md-8 col-xl-6 chat\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 36\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          className: \"card\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 37\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          className: \"card-header msg_head\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 38\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          className: \"d-flex bd-highlight\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 39\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          className: \"img_cont\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 40\n          },\n          __self: this\n        }, React.createElement(\"img\", {\n          alt: \"test\",\n          src: bot.state.image,\n          className: \"rounded-circle user_img\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 41\n          },\n          __self: this\n        }), React.createElement(\"span\", {\n          className: \"online_icon\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 42\n          },\n          __self: this\n        })), React.createElement(\"div\", {\n          className: \"user_info\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 44\n          },\n          __self: this\n        }, React.createElement(\"span\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 45\n          },\n          __self: this\n        }, \"Chat with \", React.createElement(\"img\", {\n          alt: \"test\",\n          src: \"https://i.imgur.com/7RoEscK.png\",\n          style: {\n            height: '30px',\n            radius: '30%'\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 45\n          },\n          __self: this\n        }))), React.createElement(\"div\", {\n          className: \"video_cam\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 48\n          },\n          __self: this\n        })), React.createElement(\"div\", {\n          id: \"action_menu_btn\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 53\n          },\n          __self: this\n        }, React.createElement(\"button\", {\n          className: \"btn\",\n          onClick: function onClick() {\n            localStorage.removeItem('angelhack');\n\n            _this2.props.history.push(\"\".concat(rootPath, \"/login\"));\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 53\n          },\n          __self: this\n        }, \"Logout\"))), React.createElement(\"div\", {\n          className: \"card-body msg_card_body\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 60\n          },\n          __self: this\n        }, bot.state.interim && React.createElement(\"div\", {\n          className: \"d-flex justify-content-end mb-4\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 64\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          className: \"msg_cotainer_send\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 65\n          },\n          __self: this\n        }, bot.state.interim), React.createElement(\"div\", {\n          className: \"img_cont_msg\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 68\n          },\n          __self: this\n        }, React.createElement(\"img\", {\n          alt: \"test\",\n          src: bot.state.user.user.userAvatar,\n          className: \"rounded-circle user_img_msg\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 69\n          },\n          __self: this\n        }))), bot.state.image === IMAGE.hearing ? React.createElement(\"div\", {\n          className: \"d-flex justify-content-start mb-4\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 78\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          className: \"img_cont_msg\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 79\n          },\n          __self: this\n        }, React.createElement(\"img\", {\n          alt: \"test\",\n          src: \"https://i.imgur.com/ilmoJsC.png\",\n          className: \"rounded-circle user_img_msg\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 80\n          },\n          __self: this\n        })), React.createElement(\"div\", {\n          className: \"msg_cotainer\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 82\n          },\n          __self: this\n        }, \"I'm hearing ...\")) : bot.state.image === IMAGE.thinking && React.createElement(\"div\", {\n          className: \"d-flex justify-content-start mb-4\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 87\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          className: \"img_cont_msg\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 88\n          },\n          __self: this\n        }, React.createElement(\"img\", {\n          alt: \"test\",\n          src: \"https://i.imgur.com/ilmoJsC.png\",\n          className: \"rounded-circle user_img_msg\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 89\n          },\n          __self: this\n        })), React.createElement(\"div\", {\n          className: \"msg_cotainer\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 91\n          },\n          __self: this\n        }, \"I'm thinking ...\")), bot.state.dialog.sort(function (a, b) {\n          return b.index - a.index;\n        }).map(function (e, index) {\n          return React.createElement(React.Fragment, {\n            key: \"\".concat(e.question).concat(index),\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 100\n            },\n            __self: this\n          }, e.response.map(function (res, index) {\n            return res.image ? React.createElement(\"div\", {\n              key: res.message1,\n              className: \"d-flex justify-content-start mb-1\",\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 106\n              },\n              __self: this\n            }, index === 0 && React.createElement(\"div\", {\n              className: \"img_cont_msg\",\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 109\n              },\n              __self: this\n            }, React.createElement(\"img\", {\n              alt: \"test\",\n              src: \"https://i.imgur.com/ilmoJsC.png\",\n              className: \"rounded-circle user_img_msg\",\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 110\n              },\n              __self: this\n            })), React.createElement(\"div\", {\n              className: \"msg_cotainer\",\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 114\n              },\n              __self: this\n            }, React.createElement(\"img\", {\n              alt: \"test\",\n              src: res.image,\n              className: \"user_img_msg\",\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 115\n              },\n              __self: this\n            }), \" \".concat(res.message1))) : React.createElement(\"div\", {\n              key: res,\n              className: \"d-flex justify-content-start mb-1\",\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 121\n              },\n              __self: this\n            }, index === 0 && React.createElement(\"div\", {\n              className: \"img_cont_msg\",\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 124\n              },\n              __self: this\n            }, React.createElement(\"img\", {\n              alt: \"test\",\n              src: \"https://i.imgur.com/ilmoJsC.png\",\n              className: \"rounded-circle user_img_msg\",\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 125\n              },\n              __self: this\n            })), React.createElement(\"div\", {\n              className: \"msg_cotainer\",\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 130\n              },\n              __self: this\n            }, res));\n          }), React.createElement(\"div\", {\n            className: \"d-flex justify-content-end mb-4 mt-3\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 140\n            },\n            __self: this\n          }, React.createElement(\"div\", {\n            className: \"msg_cotainer_send\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 141\n            },\n            __self: this\n          }, e.question), React.createElement(\"div\", {\n            className: \"img_cont_msg\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 144\n            },\n            __self: this\n          }, React.createElement(\"img\", {\n            alt: \"test\",\n            src: bot.state.user.user.userAvatar,\n            className: \"rounded-circle user_img_msg\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 145\n            },\n            __self: this\n          }))));\n        })), React.createElement(\"div\", {\n          className: \"card-footer\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 158\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          className: \"input-group\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 159\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          className: \"input-group-append\",\n          onClick: function onClick() {\n            try {\n              botContainer.recognition.start();\n            } catch (e) {}\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 160\n          },\n          __self: this\n        }, React.createElement(\"span\", {\n          className: \"input-group-text attach_btn\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 168\n          },\n          __self: this\n        }, React.createElement(\"i\", {\n          className: \"fas fa-microphone\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 168\n          },\n          __self: this\n        }))), React.createElement(\"textarea\", {\n          value: _this2.state.text,\n          onChange: function onChange(e) {\n            _this2.setState({\n              text: e.target.value\n            });\n          },\n          className: \"form-control type_msg\",\n          placeholder: \"Type your message...\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 170\n          },\n          __self: this\n        }), React.createElement(\"div\", {\n          className: \"input-group-append\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 173\n          },\n          __self: this\n        }, React.createElement(\"span\", {\n          className: \"input-group-text send_btn\",\n          onClick: function onClick() {\n            botContainer.sendMessage(_this2.state.text);\n\n            _this2.setState({\n              text: ''\n            });\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 174\n          },\n          __self: this\n        }, React.createElement(\"i\", {\n          className: \"fas fa-location-arrow\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 179\n          },\n          __self: this\n        })))))))));\n      }));\n    }\n  }]);\n\n  return AppMain;\n}(React.Component);\n\nexport default withRouter(AppMain);","map":{"version":3,"sources":["/media/caobo171/07190f2f-2f0f-48f2-bf9e-e2b5e9484259/project1/angelhack/vti-angelhack/client/src/AppMain.js"],"names":["React","botContainer","IMAGE","Provider","SubscribeOne","withRouter","rootPath","AppMain","props","init","state","text","document","addEventListener","event","keyCode","sendMessage","setState","bot","console","log","paddingTop","image","height","radius","localStorage","removeItem","history","push","interim","user","userAvatar","hearing","thinking","dialog","sort","a","b","index","map","e","question","response","res","message1","recognition","start","target","value","Component"],"mappings":"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","sourcesContent":["import React from 'react';\nimport logo from './logo.svg';\nimport botContainer, { IMAGE } from './containers/botContainer'\nimport { Provider, SubscribeOne } from 'unstated-x'\nimport './App.css';\nimport { withRouter } from 'react-router-dom'\nimport { rootPath } from './App'\n\nclass AppMain extends React.Component {\n\n  constructor(props) {\n    super(props)\n    botContainer.init()\n    this.state = {\n      text: ''\n    }\n\n    document.addEventListener('keydown', (event) => {\n      if (event.keyCode === 13) {\n        botContainer.sendMessage(this.state.text)\n        this.setState({ text: '' })\n      }\n    });\n  }\n  render() {\n    return (\n\n      <div className=\"App\">\n        <SubscribeOne to={botContainer} bind={['dialog', 'interim', 'image', 'user']}>\n          {\n            bot => {\n              console.log('check bot', bot)\n              return (\n                <div className=\"container-fluid h-100\" >\n                  <div className=\"row justify-content-center h-100\" style={{ paddingTop: '30px' }}>\n                    <div className=\"col-md-8 col-xl-6 chat\">\n                      <div className=\"card\">\n                        <div className=\"card-header msg_head\">\n                          <div className=\"d-flex bd-highlight\">\n                            <div className=\"img_cont\">\n                              <img alt=\"test\" src={bot.state.image} className=\"rounded-circle user_img\" />\n                              <span className=\"online_icon\"></span>\n                            </div>\n                            <div className=\"user_info\">\n                              <span>Chat with <img alt=\"test\" src=\"https://i.imgur.com/7RoEscK.png\" style={{ height: '30px', radius: '30%' }} /></span>\n\n                            </div>\n                            <div className=\"video_cam\">\n                              {/* <span><i className=\"fas fa-video\"></i></span>\n                        <span><i className=\"fas fa-phone\"></i></span> */}\n                            </div>\n                          </div>\n                          <div id=\"action_menu_btn\"><button className=\"btn\" onClick={() => {\n                            localStorage.removeItem('angelhack');\n                            this.props.history.push(`${rootPath}/login`)\n                          }}>Logout</button></div>\n                        </div>\n\n\n                        <div className=\"card-body msg_card_body\">\n\n                          {\n                            bot.state.interim && (\n                              <div className=\"d-flex justify-content-end mb-4\">\n                                <div className=\"msg_cotainer_send\">\n                                  {bot.state.interim}\n                                </div>\n                                <div className=\"img_cont_msg\">\n                                  <img alt=\"test\" src={bot.state.user.user.userAvatar} className=\"rounded-circle user_img_msg\" />\n                                </div>\n\n                              </div>\n                            )\n                          }\n\n                          {\n                            bot.state.image === IMAGE.hearing ? (\n                              <div className=\"d-flex justify-content-start mb-4\">\n                                <div className=\"img_cont_msg\">\n                                  <img alt=\"test\" src=\"https://i.imgur.com/ilmoJsC.png\" className=\"rounded-circle user_img_msg\" />\n                                </div>\n                                <div className=\"msg_cotainer\">\n                                  I'm hearing ...\n                                  </div>\n                              </div>\n                            ) : (bot.state.image === IMAGE.thinking) && (\n                              <div className=\"d-flex justify-content-start mb-4\">\n                                <div className=\"img_cont_msg\">\n                                  <img alt=\"test\" src=\"https://i.imgur.com/ilmoJsC.png\" className=\"rounded-circle user_img_msg\" />\n                                </div>\n                                <div className=\"msg_cotainer\">\n                                  I'm thinking ...\n                                </div>\n                              </div>\n                            )\n                          }\n                          {\n                            bot.state.dialog.sort((a, b) => b.index - a.index).map((e, index) => {\n                              return (\n                                <React.Fragment key={`${e.question}${index}`}>\n\n                                  {\n                                    e.response.map((res, index) => {\n                                      return (\n                                        res.image ? (\n                                          <div key={res.message1} className=\"d-flex justify-content-start mb-1\" >\n                                            {\n                                              index === 0 && (\n                                                <div className=\"img_cont_msg\">\n                                                  <img alt=\"test\" src=\"https://i.imgur.com/ilmoJsC.png\" className=\"rounded-circle user_img_msg\" />\n                                                </div>\n                                              )\n                                            }\n                                            <div className=\"msg_cotainer\">\n                                              <img alt=\"test\" src={res.image} className=\"user_img_msg\" />\n                                              {` ${res.message1}`}\n                                            </div>\n\n                                          </div>\n                                        ) :\n                                          (<div key={res} className=\"d-flex justify-content-start mb-1\">\n                                            {\n                                              index === 0 && (\n                                                <div className=\"img_cont_msg\">\n                                                  <img alt=\"test\" src=\"https://i.imgur.com/ilmoJsC.png\" className=\"rounded-circle user_img_msg\" />\n                                                </div>\n                                              )\n                                            }\n\n                                            <div className=\"msg_cotainer\">\n                                              {res}\n                                            </div>\n                                          </div>\n                                          )\n\n                                      )\n                                    })\n\n                                  }\n                                  <div className=\"d-flex justify-content-end mb-4 mt-3\">\n                                    <div className=\"msg_cotainer_send\">\n                                      {e.question}\n                                    </div>\n                                    <div className=\"img_cont_msg\">\n                                      <img alt=\"test\" src={bot.state.user.user.userAvatar} className=\"rounded-circle user_img_msg\" />\n                                    </div>\n\n                                  </div>\n\n                                </React.Fragment>\n                              )\n                            })\n                          }\n\n\n                        </div>\n\n                        <div className=\"card-footer\">\n                          <div className=\"input-group\">\n                            <div className=\"input-group-append\"\n                              onClick={() => {\n                                try {\n                                  botContainer.recognition.start()\n                                } catch (e) {\n\n                                }\n                              }}>\n                              <span className=\"input-group-text attach_btn\"><i className=\"fas fa-microphone\"></i></span>\n                            </div>\n                            <textarea value={this.state.text}\n                              onChange={(e) => { this.setState({ text: e.target.value }) }}\n                              className=\"form-control type_msg\" placeholder=\"Type your message...\"></textarea>\n                            <div className=\"input-group-append\">\n                              <span className=\"input-group-text send_btn\"\n                                onClick={() => {\n                                  botContainer.sendMessage(this.state.text)\n                                  this.setState({ text: '' })\n                                }}\n                              ><i className=\"fas fa-location-arrow\"></i></span>\n                            </div>\n                          </div>\n                        </div>\n                      </div>\n                    </div>\n                  </div>\n                </div>\n              )\n            }\n          }\n        </SubscribeOne>\n      </div >\n    );\n  }\n}\n\nexport default withRouter(AppMain)\n"]},"metadata":{},"sourceType":"module"}